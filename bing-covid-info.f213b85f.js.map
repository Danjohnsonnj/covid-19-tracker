{"version":3,"sources":["index.js"],"names":["getCovidData","formattedResults","r","deprecatedData","filteredResults","Object","keys","reduce","acc","key","includes","console","log","date","Date","lastUpdateEt","results","updated","toDateString","toLocaleTimeString","positiveCases","positiveCasesViral","positiveIncrease","recovered","death","deathIncrease","hospitalizedCurrently","hospitalizedIncrease","inIcuCurrently","formatResults","url","response","fetch","status","data","json","dataTable","document","getElementById","forEach","querySelector","innerHTML"],"mappings":";AAAA,WACQA,MAsDAC,EAzCgB,SAAUC,GACxBC,MAAAA,EAAiB,CACrB,cACA,kBACA,cACA,eACA,QACA,OACA,eACA,mBACA,uBACA,gBACA,SACA,gBACA,QACA,SAEIC,EAAkBC,OAAOC,KAAKJ,GAAGK,OAAO,CAACC,EAAKC,KAC7CN,EAAeO,SAASD,KAC3BD,EAAIC,GAAOP,EAAEO,IAERD,GACN,IACHG,QAAQC,IAAIR,GAENS,MAAAA,EAAO,IAAIC,KAAKV,EAAgBW,cAa/BC,MAXS,CACdC,WAFiBJ,EAAKK,wBAAwBL,EAAKM,uBAGnDC,cAAehB,EAAgBiB,mBAC/BC,iBAAkBlB,EAAgBkB,iBAClCC,UAAWnB,EAAgBmB,UAC3BC,MAAOpB,EAAgBoB,MACvBC,cAAerB,EAAgBqB,cAC/BC,sBAAuBtB,EAAgBsB,sBACvCC,qBAAsBvB,EAAgBuB,qBACtCC,eAAgBxB,EAAgBwB,gBAKXC,OAtDJ,eAAgBC,GAC/BC,IAAAA,QAAiBC,MAAMF,GACvBC,GAAoB,MAApBA,EAASE,OAONC,aADUH,EAASI,OALxBxB,QAAQC,IAAI,gDACVmB,EAASE,QAOajC,CAAa,4DA4CzCW,QAAQC,IAAIX,GAENmC,MAAAA,EAAYC,SAASC,eAAe,eAC1CjC,OAAOC,KAAKL,GAAkBsC,QAAQ9B,IACpC2B,EAAUI,kBAAkB/B,KAAOgC,UAAYxC,EAAiBQ,MA5DpE","file":"bing-covid-info.f213b85f.js","sourceRoot":"..","sourcesContent":["(async () => {\n  const getCovidData = async function (url) {\n    let response = await fetch(url)\n    if (response.status !== 200) {\n      console.log('Looks like there was a problem. Status Code: ' +\n        response.status);\n      return;\n    }\n\n    let data = await response.json()\n    return data;\n  };\n  const fetchResponse = await getCovidData('https://covidtracking.com/api/v1/states/nj/current.json');\n\n  const formatResults = function (r) {\n    const deprecatedData = [\n      'checkTimeEt',\n      'commercialScore',\n      'dateChecked',\n      'dateModified',\n      'grade',\n      'hash',\n      'hospitalized',\n      'negativeIncrease',\n      'negativeRegularScore',\n      'negativeScore',\n      'posNeg',\n      'positiveScore',\n      'score',\n      'total',\n    ]\n    const filteredResults = Object.keys(r).reduce((acc, key) => {\n      if (!deprecatedData.includes(key)) {\n        acc[key] = r[key];\n      }\n      return acc;\n    }, {});\n    console.log(filteredResults)\n\n    const date = new Date(filteredResults.lastUpdateEt);\n    const updated = `${date.toDateString()}<br>at ${date.toLocaleTimeString()}`;\n    const results = {\n      updated,\n      positiveCases: filteredResults.positiveCasesViral,\n      positiveIncrease: filteredResults.positiveIncrease,\n      recovered: filteredResults.recovered,\n      death: filteredResults.death,\n      deathIncrease: filteredResults.deathIncrease,\n      hospitalizedCurrently: filteredResults.hospitalizedCurrently,\n      hospitalizedIncrease: filteredResults.hospitalizedIncrease,\n      inIcuCurrently: filteredResults.inIcuCurrently,\n    };\n    return results;\n  }\n\n  const formattedResults = formatResults(fetchResponse);\n  console.log(formattedResults);\n\n  const dataTable = document.getElementById('CurrentData');\n  Object.keys(formattedResults).forEach(key => {\n    dataTable.querySelector(`.${key}`).innerHTML = formattedResults[key];\n  });\n})()"]}